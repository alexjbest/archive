---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html">tiny stdlib between core and mathlib</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="197182732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197182732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197182732">(May 11 2020 at 18:03)</a>:</h4>
<p>After my experiments documented over at:<br>
<a href="#narrow/stream/113488-general/topic/moving.20algebra.20out.20of.20core">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/moving.20algebra.20out.20of.20core</a><br>
I'm wondering: should we carve out a well-designed and stable stdlib that sits between core and mathlib?<br>
I can imagine that for a lot of CS applications, you don't want to have all of mathlib as a dependency. On the other hand, having maths locked into core is really annoying.</p>
<p>So maybe we can have some <code>gcd(CS, math)</code> in a stdlib, that involves <code>nat</code>, <code>int</code>, <code>list</code>, <code>rbtree</code>, and a bit more.</p>



<a name="197182802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197182802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197182802">(May 11 2020 at 18:03)</a>:</h4>
<p>The benefit would be that it would still be relatively easy to change things, if necessary.</p>



<a name="197182819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197182819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197182819">(May 11 2020 at 18:03)</a>:</h4>
<p>oh yeah that well-known mathematical object <code>rbtree</code></p>



<a name="197182945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197182945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197182945">(May 11 2020 at 18:04)</a>:</h4>
<p>Ok, maybe I shouldn't have said <code>gcd(CS, math)</code></p>



<a name="197183007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197183007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197183007">(May 11 2020 at 18:05)</a>:</h4>
<p>maybe you should have just told me it was a tree :-)</p>



<a name="197186152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197186152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197186152">(May 11 2020 at 18:33)</a>:</h4>
<p>Having three tightly coupled but formally independent projects imho sounds worse than having two. Counterproposal: Leave the 'general interest' stuff in core and move related code from mathlib to core. (Also, a well-designed and stable stdlib is a pretty large undertaking. The Agda standard library has 50k lines of code and many parts of it only became good after a few iterations.)</p>
<p>Counter-counterproposal: Wait for Lean 4 and don't spend too much time prettifying a soon-to-be-legacy codebase.</p>



<a name="197187018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197187018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197187018">(May 11 2020 at 18:41)</a>:</h4>
<p>I think Johan's proposal would be good for an ideal world but, in practice, we don't have any stable layer at all at this point.</p>



<a name="197187259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197187259" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197187259">(May 11 2020 at 18:43)</a>:</h4>
<p>+1 for counter-counterproposal.</p>



<a name="197187260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197187260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197187260">(May 11 2020 at 18:43)</a>:</h4>
<p>For purely practical reasons, I think that until Lean 4 comes we're most productive moving as much as possible into mathlib.</p>



<a name="197199250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197199250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197199250">(May 11 2020 at 20:18)</a>:</h4>
<p>For me that's completely fine. I still don't have a good idea of what lean is used for besides mathlib... we can always think about this idea if people start complaining that core has too little...</p>



{% endraw %}

<hr><p>Last updated: May 11 2020 at 21:08 UTC</p>