---
layout: archive
title: Zulip Chat Archive
permalink: /stream/238266-Codewars/topic/Kata.20style.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/index.html">Codewars</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Kata.20style.html">Kata style</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="197170477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Kata%20style/near/197170477" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Kata.20style.html#197170477">(May 11 2020 at 16:26)</a>:</h4>
<p>Question for anyone: what sort of kata would be most interesting to see?<br>
In my case, the task would be to prove <code>no_double_powerset_monad</code> below:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">category_theory</span><span class="bp">.</span><span class="n">types</span>
<span class="kn">import</span> <span class="n">category_theory</span><span class="bp">.</span><span class="n">monad</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">open</span> <span class="n">category_theory</span> <span class="n">monad</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simps</span><span class="o">]</span>
<span class="n">def</span> <span class="n">P</span> <span class="o">:</span> <span class="kt">Type</span> <span class="err">⥤</span> <span class="kt">Type</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">obj</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">X</span><span class="o">,</span> <span class="n">set</span> <span class="n">X</span><span class="o">,</span>
  <span class="n">map</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">X</span> <span class="n">Y</span><span class="o">,</span> <span class="n">set</span><span class="bp">.</span><span class="n">image</span> <span class="o">}</span>

<span class="n">def</span> <span class="n">no_double_powerset_monad</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="n">monad</span> <span class="o">(</span><span class="n">P</span> <span class="err">⋙</span> <span class="n">P</span><span class="o">)</span> <span class="bp">→</span> <span class="n">false</span>
</code></pre></div>


<p>Now this isn't an easy proof: my lean version is over 500 lines (though I'm sure it can be condensed by at least a factor of 4), and the maths proof was only published in December 2018. That said, it doesn't involve any particularly advanced lean or maths, only a rough idea of the sets API and a very basic understanding of monads. As I see them, the options here are: 1) Present the kata essentially as above, with no hints. 2) Provide a link to the paper but no other information. 3) Provide an approximate lean framework for how the proof might look, so that users can fill in the gaps (but not enforce that the framework must be followed). Any suggestions?</p>



{% endraw %}

<hr><p>Last updated: May 11 2020 at 20:06 UTC</p>