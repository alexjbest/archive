---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Some.20olympiad.20formalisations.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html">Some olympiad formalisations</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="194557725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/194557725" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph Myers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#194557725">(Apr 18 2020 at 18:30)</a>:</h4>
<p>As a first exercise in formalisation after Kevin's natural number game and Lean maths challenges, I tried <a href="https://github.com/jsm28/bmo2-2020-lean" title="https://github.com/jsm28/bmo2-2020-lean">formalising solutions</a> to some problems from this year's <a href="https://bmos.ukmt.org.uk/home/bmo2-2020.pdf" title="https://bmos.ukmt.org.uk/home/bmo2-2020.pdf">British Mathematical Olympiad round 2</a>. A couple of questions that arose from this. (a) In the course of those formalisations I found I wanted various trivial lemmas that I couldn't locate in mathlib, but that seemed of more general relevance than just those particular olympiad problems; see p1_lemmas.lean, p3_lemmas.lean and p4_lemmas.lean at the link. Are some of those actually in mathlib in a different form, or do any of them belong there? (b) The proof of problem 3 (p3.lean) got very bogged down proving trivialities. Are there key Lean tricks I'm missing that could make it, say, five times shorter (which would still be longer than either of the other proofs there)?</p>



<a name="194559223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/194559223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#194559223">(Apr 18 2020 at 19:08)</a>:</h4>
<p>Thanks for mentioning this stuff here Joseph, I know you told me about it weeks ago but I've been focusing on other things.</p>



<a name="194568695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/194568695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#194568695">(Apr 18 2020 at 23:20)</a>:</h4>
<p>I only briefly skimmed your lemmas, but mostly these look useful and appropriate for mathlib.</p>



<a name="194568698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/194568698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#194568698">(Apr 18 2020 at 23:20)</a>:</h4>
<p>I'd double check on some of the simpler ones that <code>library_search</code> doesn't find any matches.</p>



<a name="194568704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/194568704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#194568704">(Apr 18 2020 at 23:21)</a>:</h4>
<p>and then start PR'ing them. It's probably best to do them in small chunks, as it makes it more likely that the relevant reviewer who knows the file the lemmas belong in will have time to check them.</p>



<a name="194568708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/194568708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#194568708">(Apr 18 2020 at 23:22)</a>:</h4>
<p>(But my first impression is that everything was written nicely, and had good mathlib-style names, so PRing should be pretty straightforward, beyond looking for existing matches.)</p>



<a name="194603866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/194603866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph Myers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#194603866">(Apr 19 2020 at 15:47)</a>:</h4>
<p>OK, I've filed PR  <a href="https://github.com/leanprover-community/mathlib/issues/2460" title="https://github.com/leanprover-community/mathlib/issues/2460">#2460</a> for some of the modular arithmetic lemmas after checking with <code>library_search</code>. Though as <code>library_search</code> is very sensitive to the exact form in which a lemma is stated, it's quite possible something very similar is already present. (E.g. at one point in doing these formalisations I wanted the name of the lemma that turns out to be <code>nat.add_mul_div_right</code>, but because I had the additions the other way round, <code>library_search</code> didn't find it.) I left out one of the modular arithmetic lemmas from this PR, both because it's more complicated and because I got a mysterious timeout after updating to the latest Lean and mathlib. Why does this code timeout on <code>use</code> (but not if <code>existsi</code> is used instead, or with different imports)? This is with Lean 3.9.0, mathlib commit 99245b33741b6b3adc6832858c88e7b0ce2de519, and didn't appear with Lean 3.8.0, mathlib commit d2db3e831a8f8e20564e7c702409bd3bdda691f5.</p>
<div class="codehilite"><pre><span></span><span class="c1">-- This import is needed; the timeout does not appear with &quot;import tactic&quot; instead.</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">int</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">lemma</span> <span class="n">mod_mul_eq_cases</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">hbpos</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">hcpos</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hmod</span> <span class="o">:</span> <span class="n">n</span> <span class="err">%</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">d</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">&lt;</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">n</span> <span class="err">%</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">b</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">use</span> <span class="o">((</span><span class="n">n</span> <span class="err">%</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">b</span><span class="o">))</span> <span class="bp">/</span> <span class="n">b</span><span class="o">),</span> <span class="c1">-- Times out (works with &quot;existsi&quot;)</span>
  <span class="n">sorry</span>
<span class="kn">end</span>
</pre></div>



<a name="195620616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195620616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph Myers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195620616">(Apr 28 2020 at 20:15)</a>:</h4>
<p>Having got a first few batches of lemmas intro mathlib, a couple of followup questions.</p>
<ol>
<li>One of the lemmas I have is one where the statement seems reasonable for mathlib, but the proof I have surely isn't.</li>
</ol>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">cardinality</span>

<span class="c">/-</span><span class="cm">- Any open interval of reals is uncountable. -/</span>
<span class="kn">lemma</span> <span class="n">not_countable_real_Ioo</span> <span class="o">{</span><span class="n">k1</span> <span class="n">k2</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">k1</span> <span class="bp">&lt;</span> <span class="n">k2</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">¬</span> <span class="n">set</span><span class="bp">.</span><span class="n">countable</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">Ioo</span> <span class="n">k1</span> <span class="n">k2</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">sorry</span>
<span class="kn">end</span>
</code></pre></div>


<p>The proof I have (in p4_lemmas.lean) deducing this from <code>not_countable_real</code> is about as long as the whole of <code>data.real.cardinality</code> once you include the auxiliary lemmas. Maybe someone can see a much simpler proof of this and can PR that to mathlib instead?</p>
<ol start="2">
<li>I only formalised solutions to three of the four problems on the paper because the other one is geometry and mathlib doesn't have any Euclidean geometry. I know there have been various attempts at Euclidean geometry in Lean, are there any plans to add it (at least basic definitions) to mathlib? (I tend to think the natural starting point is the <a href="https://en.wikipedia.org/wiki/Euclidean_space#Technical_definition" title="https://en.wikipedia.org/wiki/Euclidean_space#Technical_definition">definition</a> of a Euclidean space as an affine space whose associated vector space is a finite-dimensional real inner product space. mathlib has real inner product spaces, but not affine spaces.)</li>
</ol>



<a name="195622197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195622197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195622197">(Apr 28 2020 at 20:27)</a>:</h4>
<p>For 1, it would be nice to know that an open interval is homeomorphic to ℝ anyways, from which the uncountability follows. (Maybe <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> knows whether we have this already?)</p>



<a name="195622357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195622357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195622357">(Apr 28 2020 at 20:28)</a>:</h4>
<p>For 2, I don't know of any plans to add Euclidean geometry to mathlib. But PRs are welcome!</p>



<a name="195622504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195622504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195622504">(Apr 28 2020 at 20:29)</a>:</h4>
<p>Not having affine spaces is really really sad, especially now calculus is very advanced in the wrong direction (using linear spaces everywhere instead of affine spaces)</p>



<a name="195622510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195622510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195622510">(Apr 28 2020 at 20:29)</a>:</h4>
<p>For 1. I would guess that it is not too hard to show that the interval <code>Ioo a b</code> is uncountable if the unit interval <code>Ioo 0 1</code> is.</p>



<a name="195622601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195622601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195622601">(Apr 28 2020 at 20:30)</a>:</h4>
<p>I tried to define affine spaces a very very long time ago, but I never managed to get elaboration to cooperate.</p>



<a name="195622655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195622655" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195622655">(Apr 28 2020 at 20:30)</a>:</h4>
<p>And we know that <code>exp</code> is injective. So <code>R</code> injects into the positive reals. That's also only a couple of lines.</p>



<a name="195622762"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195622762" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195622762">(Apr 28 2020 at 20:31)</a>:</h4>
<p>Then you apply negation, and another <code>exp</code>.</p>



<a name="195622789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195622789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195622789">(Apr 28 2020 at 20:31)</a>:</h4>
<p>We know that exp is monotone as well, I htink.</p>



<a name="195623114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195623114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195623114">(Apr 28 2020 at 20:34)</a>:</h4>
<p>Library-wise I don't think we should look for a tricky proof. We need to make sure we have an bijection from R to any nonempty open interval</p>



<a name="195623282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195623282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195623282">(Apr 28 2020 at 20:35)</a>:</h4>
<p>The library should have (a) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>≅</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0, 1) \cong (a, b)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≅</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span> for any <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>&lt;</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a &lt; b</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>, (b) <a href="https://en.wikipedia.org/wiki/Sigmoid_function" title="https://en.wikipedia.org/wiki/Sigmoid_function">https://en.wikipedia.org/wiki/Sigmoid_function</a> or similar.</p>



<a name="195623442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195623442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195623442">(Apr 28 2020 at 20:36)</a>:</h4>
<p>Hmmm, didn't <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> do the sigmoid function, or something similar?</p>



<a name="195623475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195623475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195623475">(Apr 28 2020 at 20:36)</a>:</h4>
<p>Assuming of course <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≅</mo></mrow><annotation encoding="application/x-tex">\cong</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.589em;vertical-align:0em;"></span><span class="mrel">≅</span></span></span></span> means diffemorphism.</p>



<a name="195623483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195623483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195623483">(Apr 28 2020 at 20:36)</a>:</h4>
<p>Oh I guess I always thought that the sigmoid function specifically meant what that page calls the logistic function, but the point is we should have at least one such function which also has some other utility.</p>



<a name="195623725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195623725" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195623725">(Apr 28 2020 at 20:38)</a>:</h4>
<p>Oooh, I was thinking of</p>
<div class="codehilite"><pre><span></span><code>src/analysis/calculus/specific_functions.lean:
The real function `exp_neg_inv_glue` given by `x ↦ exp (-1/x)` for `x &gt; 0` and `0`
</code></pre></div>



<a name="195623732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195623732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195623732">(Apr 28 2020 at 20:38)</a>:</h4>
<p>There is <code>exp_neg_inv_glue</code>, but this is a bit different (and more difficult)</p>



<a name="195623869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195623869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195623869">(Apr 28 2020 at 20:40)</a>:</h4>
<p>But <code>exp_neg_inv_glue</code> would also do the trick, right?</p>



<a name="195623879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195623879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195623879">(Apr 28 2020 at 20:40)</a>:</h4>
<p>For 2, one has to think about how to formalise a general Euclidean geometry question. If it says something like "Let ABC be a triangle, now construct D,E,F,G,H and prove that ABDH all lie on a circle" then you can either use a coordinate approach or a synthetic approach. There has been a lot of work towards getting the synthetic approach to work in a theorem prover, including some serious stuff done in Coq (<a href="https://mathoverflow.net/questions/337558/automatically-solving-olympiad-geometry-problems" title="https://mathoverflow.net/questions/337558/automatically-solving-olympiad-geometry-problems">some links here</a>). I had a student formalise a load of stuff in Lean <a href="https://github.com/ImperialCollegeLondon/xena-UROP-2018/tree/master/src/Geometry" title="https://github.com/ImperialCollegeLondon/xena-UROP-2018/tree/master/src/Geometry">here</a> but they didn't document what they did so the code is impenetrable.</p>



<a name="195623977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195623977" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195623977">(Apr 28 2020 at 20:41)</a>:</h4>
<p>I don't think we have the sigmoid (and I just learned this name). But it would be very easy to do.</p>



<a name="195623991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195623991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195623991">(Apr 28 2020 at 20:41)</a>:</h4>
<p>And then we can claim Lean does AI</p>



<a name="195624014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195624014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195624014">(Apr 28 2020 at 20:41)</a>:</h4>
<p>Sébastien, this fancy sigmoid name is AI</p>



<a name="195631489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195631489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alastair Horn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195631489">(Apr 28 2020 at 21:47)</a>:</h4>
<p>I'm interested in formalising (e.g. olympiad) Euclidean geometry in Lean and I would love to learn from/contribute to any project related to this, something like Geocoq perhaps?</p>



<a name="195632945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195632945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195632945">(Apr 28 2020 at 21:58)</a>:</h4>
<p>Geocoq is synthetic, right?</p>



<a name="195632988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195632988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195632988">(Apr 28 2020 at 21:58)</a>:</h4>
<p>I was going to have a student look at this this summer but my plans are now a bit up in the air.</p>



<a name="195633036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195633036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195633036">(Apr 28 2020 at 21:59)</a>:</h4>
<p>It's one thing formalising the theorems, it's another to make the tactics which prove them automatically</p>



<a name="195634375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195634375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alastair Horn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195634375">(Apr 28 2020 at 22:10)</a>:</h4>
<p>Assuming I understand what synthetic is, then yes I believe it is since it's based off Tarski's axioms</p>



<a name="195634377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195634377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195634377">(Apr 28 2020 at 22:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/Some.20olympiad.20formalisations/near/195623869" title="#narrow/stream/113489-new-members/topic/Some.20olympiad.20formalisations/near/195623869">said</a>:</p>
<blockquote>
<p>But <code>exp_neg_inv_glue</code> would also do the trick, right?</p>
</blockquote>
<p>It does one trick (via Cantor-Schroeder-Bernstein) but not all tricks.</p>



<a name="195635728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195635728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alastair Horn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195635728">(Apr 28 2020 at 22:22)</a>:</h4>
<p>I suppose a synthetic approach wouldn't be appropriate for mathlib, since nothing else would really depend on it. Though synthetic would presumably be the logical choice for a formalisation of Olympiad geometry.</p>



<a name="195645126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195645126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph Myers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195645126">(Apr 29 2020 at 00:11)</a>:</h4>
<p>After writing the definition in terms of affine spaces, a natural starting point to make it usable might include proving lots of basic geometrical facts (both n-dimensional and 2-dimensional), including Tarski's axioms. At that point you could use either approach for proving further geometrical results. (To do coordinate proofs you'd also want functions of the form "choose a frame with these properties", like "let A be (0, 0) and B be (c, 0)".) Of course the reverse direction (constructing an affine space over a real inner product space from a structure satisfying Tarski's axioms) is also a theorem that could be proved.</p>



<a name="195645432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195645432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph Myers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195645432">(Apr 29 2020 at 00:16)</a>:</h4>
<p>I tend to find combinatorial geometry more interesting than the "here's a construction for a long sequence of points" type of problem, and synthetic geometry reasoning seems less often relevant for combinatorial problems.</p>



<a name="195645688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Some%20olympiad%20formalisations/near/195645688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph Myers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Some.20olympiad.20formalisations.html#195645688">(Apr 29 2020 at 00:21)</a>:</h4>
<p>I haven't tried defining any type classes in Lean, so don't know what would go wrong in a naive attempt to implement the definition of affine spaces and define Euclidean spaces on top of that. (But implementing it in terms of additive group actions would run into mathlib not having additive group actions, and I certainly don't understand the to_additive machinery for converting things between multiplicative and additive groups.)</p>



{% endraw %}

<hr><p>Last updated: Apr 29 2020 at 23:04 UTC</p>